# 更新日志

本文档记录HerEcho项目的版本更新历史和功能变更。

## [1.2.0] - 2024-01-XX

### 🆕 新增功能
- **AI模型选择系统**
  - 支持DeepSeek和Gemini两种AI模型
  - 实时模型切换功能
  - 模型特性说明和推荐场景
  - 统一的API调用接口

### 🔧 技术改进
- **环境适配系统**
  - 自动检测浏览器和服务端环境
  - 浏览器环境使用模拟数据库存储
  - 服务端环境支持MongoDB持久化
  - 避免Node.js API在浏览器中的错误

- **代码架构优化**
  - 重构聊天服务，支持多模型架构
  - 统一错误处理和重试机制
  - 优化类型定义和接口设计
  - 改进组件间通信机制

### 🐛 问题修复
- 修复"process is not defined"浏览器环境错误
- 解决模型切换时状态不一致问题
- 修复Gemini API格式转换问题
- 改进错误处理和用户提示

### 📚 文档更新
- 新增完整的文档体系（docs文件夹）
- 系统架构文档详细说明
- 数据库使用指南
- 开发环境配置指南
- 用户使用手册

## [1.1.0] - 2024-01-XX

### 🆕 新增功能
- **视角切换系统**
  - 支持特定角色间的视角切换
  - 羌青瓷 ↔ 程聿怀双向切换
  - 蒋伯驾 → 程走柳单向切换
  - 以撒 → 缪宏谟单向切换

- **自建角色功能**
  - 用户可创建自定义AI角色
  - 个性化角色设定和背景故事
  - 独立的自建角色聊天页面
  - 本地存储管理自建角色数据

### 🔧 功能优化
- **Prompt系统改进**
  - 角色特定指令优化
  - 更精确的角色人设控制
  - 改进的对话上下文管理
  - 优化的回复质量控制

- **用户界面改进**
  - 更直观的角色选择界面
  - 优化的聊天消息显示
  - 改进的输入体验
  - 响应式设计优化

### 🐛 问题修复
- 修复长对话时的性能问题
- 解决角色切换时的状态重置问题
- 改进网络错误的处理机制
- 修复部分浏览器兼容性问题

## [1.0.0] - 2024-01-XX

### 🎉 首次发布

### 🆕 核心功能
- **多角色对话系统**
  - 6个预设AI角色：羌青瓷、程聿怀、蒋伯驾、程走柳、以撒、缪宏谟
  - 每个角色具有独特的性格和对话风格
  - 智能角色人设维护

- **DeepSeek API集成**
  - 高质量的中文对话生成
  - 角色扮演专门优化
  - 稳定的API调用机制

- **聊天功能**
  - 实时对话交互
  - 消息历史管理
  - 自动回复选项生成
  - 聊天历史本地存储

### 🔧 技术特性
- **前端技术栈**
  - Vue 3 + TypeScript
  - Vite构建工具
  - 响应式设计
  - 组件化架构

- **服务架构**
  - 模块化服务设计
  - 统一的配置管理
  - 错误处理和重试机制
  - 性能优化

### 🛠️ 开发工具
- TypeScript类型安全
- ESLint代码规范
- 热重载开发体验
- 构建优化

---

## 🔄 版本规划

### 即将发布 [1.3.0]
- [ ] 语音输入和输出功能
- [ ] 对话导出和分享
- [ ] 更多AI模型支持（Claude、ChatGPT等）
- [ ] 主题和界面自定义
- [ ] 移动端优化

### 未来规划 [2.0.0]
- [ ] 多人对话房间
- [ ] 角色间群聊功能
- [ ] 高级Prompt编辑器
- [ ] 用户账户系统
- [ ] 云端数据同步

---

## 📝 版本说明

### 版本号规则
采用语义化版本控制（Semantic Versioning）：
- **主版本号**：不兼容的API修改
- **次版本号**：向下兼容的功能新增
- **修订号**：向下兼容的问题修正

### 更新类型图标
- 🆕 新增功能
- 🔧 功能优化/技术改进
- 🐛 问题修复
- 📚 文档更新
- ⚠️ 重要变更
- 🎉 重大里程碑

### 获取更新
- **开发版本**：通过Git拉取最新代码
- **稳定版本**：等待正式发布标签
- **文档同步**：每个版本都会更新相关文档

---

**维护说明**: 本更新日志遵循[Keep a Changelog](https://keepachangelog.com/)规范，记录所有值得注意的项目更改。

**最后更新**: 2024年1月
**维护者**: HerEcho开发团队 